CMUアプリ風三重和音再生プログラム

CMU-800ってこんなやつ(昔MZ-2000につないでいました。)
https://www.dtmstation.com/archives/51435646.html
－－－－デモ動画－－－－－－－－－－－－－－－－－－－
https://youtu.be/Yo-mw5-QPoE
WICSのソースだけ公開して
バイナリの公開を忘れていました(T_T)

－－－－ファイルの説明－－－－－－－－－－－－－－－－
■EDITOR+CPL27_LIBBLE_RABBLE_191221.mze
エミュレータの状態ファイル
$C000～$C0FF:三重和音ルーチンのバイナリが入っています。
$C100～$C13F:音程データが入っています。
モニターはTS-2000なので、ここだけ取り出したいときは
TS-2000のコマンドでセーブしてください。(コマンド忘れました…)

■三重和音ルーチン解析+改造.docx
$C000～$C0FFに入っているバイナリの元ネタです。
オリジナルを自分なりに解釈するために使いました。
ビプラートはCMUにそんな機能が無いため削除したような気がします。

■CMU-EDITORメモ_191221.docx
動画上で表示している書きかけのワードファイル

■エディタソース.txt
デバッグ用にインタープリタ部のLISTをコピペしたもの
（画面のコピペをしたので改行崩れがあるかも…
あと、機種依存文字は☆になっています。）

－－－－ファイルの説明－－－－－－－－－－－－－－－－
使い方
状態ファイルを読み込んで"P"を押すと動画と同じ音が出ます。
RUNして最初にイニシャライズするかどうか聞いてきますが
Yは機能しません。
＃メインメニュー左上のUSED/FREEの数が初期化されるだけ
＃だったと思います。

メインメニューのコマンド
1-3:CMUアプリを真似して一応入力しましたがチャンネルを分ける意味が無いため
　　まともに動きません。Qでメニューに戻ります。
E  :今はただのビューワーです。(↓:次へ、Q:メニューへ)だけ機能したと思います。
P  :演奏開始です。演奏し終わったらメニューに戻ります。
O  :今はPと同じ機能です。
T,C:CMUアプリを真似して一応入力しましたが実装予定なく機能しません
B,A:機能しません。Coming soonとか書いた過去のえむこまを叱ってください。
　　(Arduinoに出会わない別の世界線では完成していると思います。)
L,S,V:機能しません。誰か作ってくれたら即採用します。
Q  :メニューに戻るかプロクラム終了です。
　　できるだけメニューに戻ってこられるようにあちこちに入れた気がします。

データ入力部
50000行～50060行について
50000行は$9000から始めてください。
＃ここの値は$9000+5×5バイトのデータ数です。
＃動画で$9514となっているのは、何度も休憩しながら入力していて
＃最後に入力をしたのが$9514からだったためです。
＃次どこを入力するかはWICSのVLISTでADの値を確認して
＃再開時はそのADの値を50000行に入力しています。
50010行のINPUTの左の"'"を削除するとワードファイル2ページ目に説明している
データ(5byte)を順番に入力できるようになります。
BREAKで入力終了。
＃入力中ヘッダーはほとんど0(NOTE)しか選択しないため
＃50010行は入力をコメントアウトして自動で0を格納していました。

50100行～50160行、50200行～50260行は
50000行以外の入力省略時に使い分けていました。

50500行以降は三重和音ルーチンのBASIC版をWICS版に移植したもので
RUN 50500でテンポ指定して音程をコンパイルします。

今思いつくことは以上です。

新品同様のCMU-800(実はジャンクだったorz)
を購入して新品同様のマニュアルを持っているので、
そのうちスキャンしてアップするかもしれません。
